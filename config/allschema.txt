UPDATE SCHEMA
{
  CREATE CLASS Block 
  {
    _id:              Integer {Encoding: Unsigned, Storage: b64}, 
    _version:         Integer {Encoding: Unsigned}, 
    _time:            DateTime,
    _hash:            String {Encoding: Utf8},
    _prevBlockHash:   String {Encoding: Utf8},
    _merkleRootHash:  String {Encoding: Utf8}, 
    _prevBlock:       Reference {Referenced: Block},
    _nextBlock:       Reference {Referenced: Block},
    _numTransactions: Integer {Encoding: Unsigned, Storage: b64},
    _transactions:    List {Element: Reference{Referenced: Transaction}, CollectionName: SegmentedArray},
    _tag:             Reference {Referenced: Tag}
  }

  CREATE CLASS Transaction
  {
    _id:             Integer {Encoding: Unsigned, Storage: b64}, 
    _hash:           String {Encoding: Utf8}, 
    _mintTime:       DateTime,
    _inValue:        Float {Encoding: IEEE, Storage: b64}, 
    _outValue:       Float {Encoding: IEEE, Storage: b64}, 
    _blockId:        Integer {Encoding: Unsigned, Storage: b64},
    _numParents:     Integer {Encoding: Unsigned, Storage: b64},
    _parents:        List {Element: Reference{Referenced: Transaction}, CollectionName: SegmentedArray},
    _child:          Reference {Referenced: Transaction},
    _numOutputs:     Integer {Encoding: Unsigned, Storage: b64},
    _outputs:        List {Element: Reference{Referenced: Output}, CollectionName: SegmentedArray},
    _tag:            Reference {Referenced: Tag}
  }

  CREATE CLASS GenTransaction SUPERCLASS Transaction
  {
    _isCoinBase:     Bool
  }

  CREATE CLASS Output
  {
    _id:             Integer {Encoding: Unsigned, Storage: b64}, 
    _transaction:    Reference {Referenced: Transaction},
    _numAddresses:   Integer {Encoding: Unsigned, Storage: b64},
    _address:        Reference {Referenced: Address},
    _addressHash:    String {Encoding: Utf8},
    _value:          Float {Encoding: IEEE, Storage: b64}, 
    _tag:            Reference {Referenced: Tag}
  }

  CREATE CLASS Address
  {
    _hash:           String {Encoding: Utf8},
    _numOutputs:     Integer {Encoding: Unsigned, Storage: b64},
    _outputs:        List {Element: Reference{Referenced: Output}, CollectionName: SegmentedArray},
    _tag:            Reference {Referenced: Tag}
  }

  CREATE CLASS Tag
  {
    _label:          String {Encoding: Utf8},
    _ref:            Reference {Referenced: ooObj}
  }
}
